variables:
  VAR1:
    question: What is variable 1
    type: string
  VAR2:
    question: What is variable 2
    type: number
  VAR3:
    question: What is variable 3
    type: string
    options:
      - test 1
      - test 2
      - test 3
  VAR4:
    question: What is variable 4
    type: number
    options:
      - 1
      - 2
      - 3
      - 4
      - 5
      - 6
  VAR5:
    question: What is variable 5
    type: random
  VAR6:
    question: What is variable 6
    type: base64
defaults:
  DEF1: default var 1
  DEF2: 2
  DEF3:
    type: bash
    output: json
    command: >-
      echo '{"test": 2345}'
    query: test
  DEF4:
    type: bash
    output: json
    command: >-
      echo '{"menu":{"id":"file","value":"File","popup":{"menuitem":[{"value":"New","onclick":"CreateNewDoc()"},{"value":"Open","onclick":"OpenDoc()"},{"value":"Close","onclick":"CloseDoc()"}]}}}'
    query: menu.value
  DEF5:
    type: bash
    command: >-
      echo "this is def5 string output"
  DEF6:
    type: bash
    command: >-
      echo "${DEF1.val}"
  DEF7:
    type: bash
    command: >-
      echo "value of var 1 -> ${VAR1.val}"
  DEF8: true
actions:
  initial:
    - echo '---------- initial ----------'
  pre:
    - echo '---------- pre ----------'
  post:
    - echo '---------- post ----------'
files:
  test/.env1: |-
    ${DEF1}
    ${VAR1}
    TEST_VAR_3=${VAR3.val}
    ${VAR6}
  test/.env2: |-
    ${DEF2}
    ${VAR2}
  test/.env3: |
    ${DEF3}
    ${DEF4}
    ${DEF5}
    ${DEF6}
  test/super.test.yml:
    type: yaml
    variables:
      - VAR1
      - VAR2
      - - NEW_NAME
        - VAR3
      - - NEW_NAME2
        - VAR3
      - DEF1
  test/.env4:
    condition: $DEF8 === true
    content: |
      This is generated only if DEF8 is true
  test/.env5:
    condition: $DEF8 === true && $DEF5.length > 5
    content:
      type: yaml
      variables:
        - VAR1
        - VAR2
        - - NEW_NAME
        - VAR3
        - - NEW_NAME2
        - VAR3
        - DEF1
  test/.env6: |
    # this is copy of test/.env1
    ${test_env1.val.unescape}
  test/.env7:
    condition: $DEF8 !== true
    success: |
      Condition is true
    fail: |
      Condition is false
